<!doctype html>
<html lang="en">

<head>
    <% include ../includes/head.ejs %>
    <link href="/css/home.css" rel="stylesheet" type="text/css">
</head>
<body>
<% include ../includes/header.ejs %>

<section class="hero is-info is-small">
    <div class="hero-body">
        <div class="container">
            <h1 class="title">
                Bienvenue sur le démonstrateur de fournisseur de service
            </h1>
        </div>
    </div>
</section>

<% if (!locals.user) { %>
    <section class="section is-small">
        <div class="container">
                <h1 class="title is-1 connect">Se connecter avec FranceConnect</h1>
                <br />
                <h1 class="title is-3">
                    Cliquez sur "se connecter" en haut à droite de la page pour tester la connexion via
                    <strong>FranceConnect</strong>.
                </h1>
        </div>
    </section>
<% } else { %>
    <div class="accessDataContainer">
        <button id="accessData" class="accessData" onclick=toggleData()>
            Afficher les informations renvoyées par FranceConnect
        </button>
    </div>
    <section id="resdetails" class="section is-medium visible">
        <div class="container">
            <pre>
                <label class="infosUtilisateurs">Informations utilisateurs</label>
                <code class="json">
                    <%- JSON.stringify(locals.user, null, 2) %>
                </code>
                <label class="infosUtilisateurs">Contexte d'authentification</label>
                <code class="json">
                    <%- JSON.stringify({acr:locals.acr}, null, 2) %>
                </code>
            </pre>
        </div>
    </section>
<% } %>

<div class="container">
    <h1 class="or">Ou</h1>
</div>

<section class="section is-small">
    <div class="container">
        <h1 class="title is-3">Récupérez vos données via une API FranceConnectée (sans connexion nécessaire)</h1>
        <div class="tile is-ancestor">
            <div class="tile is-vertical">
                <div class="tile">
                    <div class="tile is-parent">
                        <article class="tile is-child notification">
                            <p class="title">1</p>
                            <p class="subtitle">Cliquez sur le bouton ci-dessous</p>
                            <div class="has-text-centered content">
                                <!-- FC btn -->
                                <a href="/data">
                                    <img src="img/FCboutons-data.svg" alt="">
                                </a>
                                <p style="margin-top: 2em;">
                                    <a href="https://partenaires.franceconnect.gouv.fr/fcp/fournisseur-service">
                                        Documentation générale de FranceConnect
                                    </a>
                                </p>
                            </div>
                        </article>
                    </div>
                    <div class="tile is-parent">
                        <article class="tile is-child notification">
                            <p class="title">2</p>
                            <p class="subtitle">Sélectionnez le compte "Démonstration"</p>
                            <div class="has-text-centered content">
                                <figure class="image">
                                    <img src="/img/identity-provider-button.jpg">
                                </figure>
                                <p style="margin-top: 2em;">
                                    <a href="https://github.com/france-connect/identity-provider-example">
                                        Voir le code source du fournisseur d'identité "Démonstration"
                                    </a>
                                </p>
                            </div>
                        </article>
                    </div>
                    <div class="tile is-parent">
                        <article class="tile is-child notification">
                            <p class="title">3</p>
                            <p class="subtitle">Renseignez les identifiants de test</p>
                            <div class="has-text-centered content">
                                <figure class="image">
                                    <img src="/img/test-credentials.jpg">
                                </figure>
                                <p style="margin-top: 2em;">
                                    <a href="https://github.com/france-connect/identity-provider-example/blob/master/database.csv">
                                        Voir les identifiants de test disponibles
                                    </a>
                                </p>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<% include ../includes/footer.ejs %>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script src="/js/home.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
